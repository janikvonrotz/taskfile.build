#!/bin/bash

function login-docker() {
    if [ -z "$1" ]; then
        echo "Enter Docker login credentials for $DOCKER_REGISTRY registry."
        read -p "Enter username: " DOCKER_USERNAME
    else
        DOCKER_USERNAME="$1"
    fi

    if [ -z "$2" ]; then
        read -s -p "Enter password: " DOCKER_PASSWORD
    else
        DOCKER_PASSWORD="$2"
    fi

    echo -e "\nRun Docker login with username $DOCKER_USERNAME."
    echo "$DOCKER_PASSWORD" | docker --config "$DOCKER_CONFIG" login --username "$DOCKER_USERNAME" --password-stdin
    echo "Stored credentials to $DOCKER_CONFIG."
}
